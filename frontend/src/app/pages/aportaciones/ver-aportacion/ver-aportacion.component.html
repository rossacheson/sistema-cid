@if(isLoading()) {
  <app-page-loader></app-page-loader>
} @else {
  @if(aportacion(); as currentAportacion) {
    <div class="ver-aportacion-container">
      <div class="space-between page-header">
        <h1>Aportación: {{currentAportacion.concepto}}</h1>
        <a mat-stroked-button color="primary" [routerLink]="'/aportaciones/editar/' + currentAportacion.id">Editar</a>
      </div>
      <a routerLink="/aportaciones" class="link-primary back-link">← Regresar a la lista</a>

      <mat-card class="aportacion-card">
        <mat-card-header>
          <mat-card-title>Detalles</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="detail-item">
            <span class="detail-label">Concepto:</span>
            <span class="detail-value">{{currentAportacion.concepto}}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Donante:</span>
            <a [routerLink]="'/personas/' + currentAportacion.personaId" class="detail-value">{{currentAportacion.personaNombre}}</a>
          </div>
          <div class="detail-item">
            <span class="detail-label">Monto:</span>
            <span class="detail-value">{{currentAportacion.monto | currency:'MXN'}}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Fecha:</span>
            <span class="detail-value">{{currentAportacion.fecha | date:'d MMMM yyyy'}}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Tipo:</span>
            <span class="detail-value">{{currentAportacion.modoDePago}}</span>
          </div>
        </mat-card-content>
      </mat-card>

      <div class="metadata">
        <p>Record creado: {{currentAportacion.createdAt | date:'d MMMM yyyy'}}</p>
        <p>Record actualizado: {{currentAportacion.updatedAt | date:'d MMMM yyyy'}}</p>
      </div>
    </div>
  } @else {
    <div class="not-found-message">
      <h2>Aportación no encontrada</h2>
      <a routerLink="/aportaciones">Regresar a la lista</a>
    </div>
  }
}
